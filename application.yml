server:
  port: 2333
  address: 0.0.0.0
  http2:
    enabled: false

lavalink:
  plugins:
    # 1. Plugin LavaSrc (Spotify, Deezer, etc.)
    - dependency: "com.github.topi314.lavasrc:lavasrc-plugin:4.2.0"
      repository: "https://maven.lavalink.dev/releases"
    
    # 2. Plugin YouTube Source (Version 1.16.0 pour LavaSearch)
    - dependency: "dev.lavalink.youtube:youtube-plugin:1.16.0"
      repository: "https://maven.lavalink.dev/releases"

  server:
    password: "youshallnotpass"
    sources:
      # On désactive la source native pour utiliser le plugin
      youtube: false
      bandcamp: true
      soundcloud: true
      twitch: true
      vimeo: true
      http: true
      local: false
    bufferDurationMs: 400
    frameBufferDurationMs: 5000
    opusEncodingQuality: 10
    resamplingQuality: LOW
    trackStuckThresholdMs: 10000

plugins:
  # CONFIGURATION CRITIQUE POUR YOUTUBE
  # On la met ici pour être sûr qu'elle soit détectée
  youtube:
    enabled: true
    # ACTIVATION OAUTH2 (Connexion Google)
    oauth:
      enabled: true
      # refreshToken: "" # Une fois que tu auras autorisé via les logs, tu pourras coller le token ici pour qu'il soit permanent sans fichier.
    
    allowSearch: true
    allowDirectVideoIds: true
    allowDirectPlaylistIds: true
    # L'ordre est important : on utilise des clients "mobiles/TV" pour éviter le blocage "Login required"
    clients:
      - TVHTML5
      - ANDROID_VR
      - WEB
      - WEB_EMBEDDED

  # CONFIGURATION LAVASRC
  lavasrc:
    providers:
      - "ytsearch:\"%ISRC%\""
      - "ytsearch:%QUERY%"
    
    sources:
      spotify: true    
      youtube: true
      applemusic: false
      deezer: false
      yandexmusic: false
      flowerytts: false
    
    spotify:
      clientId: "256a806b24c6454ab84ba17eefe42c77"
      clientSecret: "f78a9b16e5d64a3f814451e898a4201a"
      countryCode: "FR"
      playlistLoadLimit: 6
      albumLoadLimit: 6
      resolveArtistsInSearch: true

