server:
  port: 2333
  address: 0.0.0.0
  http2:
    enabled: false

lavalink:
  plugins:
    # 1. Plugin LavaSrc (Spotify, Deezer, etc.)
    - dependency: "com.github.topi314.lavasrc:lavasrc-plugin:4.2.0"
      repository: "https://maven.lavalink.dev/releases"
    
    # 2. Plugin YouTube Source
    - dependency: "dev.lavalink.youtube:youtube-plugin:1.16.0"
      repository: "https://maven.lavalink.dev/releases"

  server:
    password: "youshallnotpass"
    sources:
      youtube: false # Désactivé pour utiliser le plugin
      bandcamp: true
      soundcloud: true
      twitch: true
      vimeo: true
      http: true
      local: false
    bufferDurationMs: 400
    frameBufferDurationMs: 5000
    opusEncodingQuality: 10
    resamplingQuality: LOW
    trackStuckThresholdMs: 10000

plugins:
  youtube:
    enabled: true
    # On désactive OAuth pour tester le mode "Furtif" avec le nouveau plugin
    oauth:
      enabled: false
    
    allowSearch: true
    allowDirectVideoIds: true
    allowDirectPlaylistIds: true
    # NOUVELLE STRATÉGIE DE CLIENTS
    # MUSIC et ANDROID_VR sont souvent moins bloqués sur les IPs de datacenter
    clients:
      - MUSIC
      - ANDROID_VR
      - TV
      - WEB

  lavasrc:
    providers:
      - "ytsearch:\"%ISRC%\""
      - "ytsearch:%QUERY%"
    
    sources:
      spotify: true    
      youtube: true
      applemusic: false
      deezer: false
      yandexmusic: false
      flowerytts: false
    
    spotify:
      clientId: "256a806b24c6454ab84ba17eefe42c77"
      clientSecret: "f78a9b16e5d64a3f814451e898a4201a"
      countryCode: "FR"
      playlistLoadLimit: 6
      albumLoadLimit: 6
      resolveArtistsInSearch: true
